# TRON Energy Tracker

Инструмент для отслеживания потребления энергии и ресурсов в транзакциях сети TRON. Данные сохраняются в локальную базу SQLite для последующего анализа и визуализации в Grafana.

## Возможности

- Сбор исторических транзакций для указанного TRON-кошелька
- Анализ потребления энергии, включая делегированную энергию
- Сбор детальных данных о смарт-контрактах и их вызовах
- Сохранение полных JSON-данных о транзакциях
- Сбор данных о курсах криптовалют относительно USDT
- Агрегирование статистики по часам, дням или месяцам
- Интеграция с Grafana для построения дашбордов

## Требования

- Python 3.6+
- SQLite
- Доступ к API Tronscan

## Установка

```bash
git clone https://github.com/Hovsteder/tron-energy-tracker.git
cd tron-energy-tracker
pip install -r requirements.txt
```

## Использование

```bash
# Сбор данных за последние 24 часа
python tron_historical_data.py

# Сбор данных за указанное количество часов
python tron_historical_data.py --hours 12

# Сбор данных за указанное количество дней
python tron_historical_data.py --days 7

# Агрегирование по дням вместо часов
python tron_historical_data.py --days 30 --period day
```

## Интеграция с Grafana

1. Добавьте SQLite в качестве источника данных в Grafana
2. Используйте SQL-запросы для создания панелей и дашбордов
3. Визуализируйте потребление энергии и активность транзакций

## Конфигурация

Вы можете настроить основные параметры через переменные окружения или изменив соответствующие константы в скрипте:

- `TRON_WALLET_ADDRESS` - Адрес TRON кошелька для отслеживания
- `SQLITE_DB_PATH` - Путь к файлу базы данных SQLite